<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Making an Rmarkdown Website with Rstudio - Kirsten Gotting</title>
    <meta property="og:title" content="Making an Rmarkdown Website with Rstudio - Kirsten Gotting">
    

    
      
    

    

    
    

    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/custom.css" />

  </head>

  
  <body class="post">
    <header class="masthead">
      <h1><a href="/">Kirsten Gotting</a></h1>



      <nav class="menu">
        <input id="menu-check" type="checkbox" />
        <label id="menu-label" for="menu-check" class="unselectable">
          <span class="icon close-icon">✕</span>
          <span class="icon open-icon">☰</span>
          <span class="text">Menu</span>
        </label>
        <ul>
        
        
        <li><a href="/">Home</a></li>
        
        <li><a href="/research/">Research</a></li>
        
        <li><a href="cv.pdf">CV</a></li>
        
        <li><a href="/tags/">Tags</a></li>
        
        
        </ul>
      </nav>
    </header>

    <article class="main">
      <header class="title">
      
<h1>Making an Rmarkdown Website with Rstudio</h1>

<h3>Kirsten Gotting
  /  2017-01-21</h3>
<hr>


      </header>





<h3 id="summary-points">Summary Points:</h3>

<ul>
<li><p>Make all code chunks have different names</p></li>

<li><p>Clean the cache before rebuilding the website</p></li>

<li><p>Make the _site.yml simple, adding details to individual pages</p></li>

<li><p>Use the &lsquo;.gitignore&rsquo; file and the &lsquo;exclude:[]&rsquo; option in the _site.yml</p></li>

<li><p>Include a &lsquo;footer.html&rsquo;, &lsquo;header.html&rsquo;, and &lsquo;styles.css&rsquo; in the _site.yml file</p></li>
</ul>

<p>In picking a tool for creating a website to display a some biological data analysis for the <a href="https://mnemiopsis.github.io/">ctenophore</a> project, I looked for tools that would seemlesly fit into my current data analysis framework (primarily R coding in Rmarkdown using Rstudio as my text editor). The obvious choice was an Rmarkdown website.</p>

<p>The procedure was simple: just copy all of my .Rmd files into a directory, create an _site.yml file, fire up an &lsquo;Rstudio Project&rsquo; and click the &lsquo;Build&rsquo; button in Rstudio. Yes it was that easy!</p>

<p>However, I did run into a couple of hiccups during this process which led me to make this post documenting things I initially did wrong/poorly and improved upon for my finished product. At the end of this post I&rsquo;ll put a version of the _site.yml that I will use if I ever do this sort of project again.</p>

<h3 id="1-make-all-code-chunks-have-unique-names">1. Make ALL code chunks have unique names</h3>

<p>I ran into this issue because I have a parameterized report that I use for the majority of my basic RNA-seq analysis. I copied several different versions of this report into my website directory, not bothering to change the names of the named code chunks. I figured that during the build process the Rmarkdown renderer would either error out, or make them unique on the fly.</p>

<p>Neither of those events occured. In fact, the build went to completion. However, when I looked at my website all of the parameterized reports I had used were multiple copies of the same report! I tried a few different methods to remedy the problem, none that worked consistently (involving knitr caching). Then I realized that all of the reports get evaluated in the SAME build. This led me to adding a unique identifier to the code chunks that I had repetitive names for within my parameterized reports.</p>

<p>Note that this is only a problem if you name your code chunks and use the same sort of parameterized report in your build, unnamed code chunks will be given numbers sequentially.</p>

<h3 id="2-clean-the-cache-before-rebuilding-the-website">2. Clean the cache before rebuilding the website</h3>

<p>A lot of my pages took a lot of time to render, so I started caching parts of them to speed up the rendering while I was trouble-shooting different aspects of the website layout. However, I would sometimes make changes to plots that wouldn&rsquo;t show up because old code chunks would be cached and used in the final document rather than re-rendering any chunks that had been modified within code chunk.</p>

<h3 id="3-make-the-output-portion-of-site-yml-simple-adding-details-to-individual-pages">3. Make the &lsquo;output&rsquo; portion of _site.yml simple, adding details to individual pages</h3>

<p>I usually like to have a table of contents on most of my R markdown documents, but for this website it wasn&rsquo;t necessary for the whole thing. I ended up adding a table of contents to several of the pages, as well as bibliographies to a couple within the individual pages themselves rather than configuring it in my _site.yml.</p>

<h3 id="4-use-the-gitignore-file-and-the-exclude-option-in-the-site-yml">4. Use the &lsquo;.gitignore&rsquo; file and the &lsquo;exclude:[]&rsquo; option in the _site.yml</h3>

<p>Some of the data that I was working with on this project took up a lot of space making them not very &lsquo;git&rsquo; friendly. Make sure to exclude those files when you are building you website or else when you try to build your R studio instance may die! Also, add them to your .gitignore or face git death!</p>

<h3 id="5-include-a-footer-html-header-html-and-styles-css-in-the-site-yml-file">5. Include a &lsquo;footer.html&rsquo;, &lsquo;header.html&rsquo;, and &lsquo;styles.css&rsquo; in the _site.yml file</h3>

<p>These are built into the R markdown YAML header syntax with the &lsquo;includes&rsquo; section and make it easy to fix little issues with CSS, as well as adding headers and footers. Yay for easy ways to integrate a little HTML into my markdown world!</p>

<p>And of course a sample _site.yml:</p>

<script src="https://gist.github.com/kirstengott/1389e0422e5e9fe168ae7c0abe03fefd.js"></script>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"><a href="/post/2018/02/17/moving-to-blogdown/">Moving to blogdown</a> &rarr;</span>
</nav>





<script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>

  

  
  <hr>
  <div class="copyright"><a href="https://github.com/kirstengott">Github</a> | <a href="https://twitter.com/KirstenGotting">Twitter</a> | <a href="https://www.researchgate.net/profile/Kirsten_Gotting">ResearchGate</a> | <a href="https://www.linkedin.com/in/kirstengotting">LinkedIn</a></div>
  
  </footer>
  </article>
  
  </body>
</html>

